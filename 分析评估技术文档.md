# 未来教师实习实训系统 - 分析评估模块技术文档

## 1. 项目概述

本文档旨在对未来教师实习实训系统中的“分析评估”模块进行详细的功能设计和技术说明。该模块包含三个核心页面：AI综合教学评价、AI音频分析和AI视频分析。本文档将对每个页面的需求进行拆解，提供UI设计示意、风格指导、技术选型及交互效果描述。

## 2. 通用设计规范

### 2.1 UI/UX 风格

- **风格**: 现代化、简洁、科技感。
- **主色调**: 以蓝色 (`#409EFF`) 为主色调，搭配深灰色 (`#303133`) 和浅灰色 (`#909399`)，营造专业、冷静的氛围。
- **布局**: 采用响应式布局，确保在不同分辨率设备上均有良好体验。多使用卡片式设计 (`Card`) 来组织信息模块，增加页面的清晰度和结构感。
- **字体**: 系统默认字体，正文14px，标题16px-20px。
- **图标**: 使用 `Element Plus Icons`，保持图标风格统一。

### 2.2 技术栈

- **前端框架**: Vue 3 (Composition API)
- **UI 组件库**: Element Plus
- **图表库**: ECharts for Vue
- **状态管理**: Pinia (如果需要)
- **路由**: Vue Router

### 2.3 通用交互

- **页面切换**: 在三个分析页面之间提供清晰的导航入口（如标签页或侧边栏），实现平滑的无刷新切换。
- **加载状态**: 所有异步加载的数据（如图表、报告）都需要有加载动画 (`Loading`)，提升用户体验。
- **悬浮效果**: 关键元素（如卡片、按钮）在鼠标悬停时应有细微的视觉反馈（如阴影加深、背景变色），增加页面的互动性。
- **返回/导出/分享**: 页面顶部固定操作栏，包含“返回”、“导出报告”、“分享”按钮，方便用户随时操作。

---

## 3. AI综合教学评价 (`AIEvaluation.vue`)

### 3.1 需求拆解

1.  **顶部导航栏**: 包含页面标题、返回、导出、分享按钮。
2.  **核心指标卡片**: 横向排列展示“总得分”、“综合评级”、“班级排名”、“超出平均分”和“优秀维度”等关键信息。
3.  **综合评价概览**: 
    -   左侧为能力雷达图，对比展示当前学生与班级平均在六个维度上的表现。
    -   右侧为各维度得分列表，使用进度条形式展示，并标注班级平均分作为对比。
4.  **详细评价分析**: 以卡片形式，分六个维度展示详细的文字评价、得分和评级。
5.  **AI智能分析报告**: 一段由AI生成的综合性文字报告。

### 3.2 UI 示意图 (文本描述)

```
+------------------------------------------------------------------------------------+
| [返回] [AI综合教学评价]                                       [导出报告] [分享]      |
+------------------------------------------------------------------------------------+
|                                                                                    |
|  +----------------+  +----------------+  +----------------+  +----------------+  |
|  |  总得分: 85    |  |  综合评级: 良好  |  |  班级排名: 15%   |  |  超出平均: +8.5  |  |
|  +----------------+  +----------------+  +----------------+  +----------------+  |
|  | 优秀维度: [教学目标] [教学基本功]                                            |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
|  +--------------------------------------+  +-----------------------------------+  |
|  | [综合评价概览]                         |  | [各维度得分]                        |  |
|  |                                      |  |  教学目标: 88 [######### ] 83      |  |
|  |      /\                              |  |  教学内容: 82 [########  ] 77      |  |
|  |     /  \         (雷达图)            |  |  ...                               |  |
|  |    /____\                            |  |                                    |  |
|  |                                      |  |                                    |  |
|  +--------------------------------------+  +-----------------------------------+  |
|                                                                                    |
|  +----------------------------------------------------------------------------+  |
|  | [详细评价分析]                                                               |  |
|  | +------------+ +------------+ +------------+                                  |  |
|  | | 教学目标   | | 教学内容   | | 教学方法   | (六个卡片)                      |  |
|  | | 88分 优秀  | | 82分 良好  | | 85分 良好  |                                  |  |
|  | | ...        | | ...        | | ...        |                                  |  |
|  | +------------+ +------------+ +------------+                                  |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
|  +----------------------------------------------------------------------------+  |
|  | [AI智能分析报告]                                                             |  |
|  |  通过AI智能分析，该教师...                                                   |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
+------------------------------------------------------------------------------------+
```

### 3.3 技术实现

- **布局**: 使用 `ElContainer`, `ElHeader`, `ElMain` 构建页面骨架。内部使用 `ElRow` 和 `ElCol` 进行栅格布局。
- **卡片**: 使用 `ElCard` 组件封装各个信息模块。
- **雷达图**: 使用 `ECharts` 的雷达图 (`radar`)，配置两个 `series` 分别展示学生和班级平均数据。
- **进度条**: 使用 `ElProgress` 组件展示各维度得分。
- **标签**: 使用 `ElTag` 展示优秀维度。

### 3.4 交互效果

- **雷达图**: 鼠标悬浮在雷达图的数据点或图例上时，对应的数据会高亮显示，并出现 `Tooltip` 展示详细数值。
- **维度得分**: 进度条加载时有动态效果。
- **页面滚动**: 页面内容超出时，顶部操作栏可设置为固定，方便用户随时操作。

---

## 4. AI音频分析 (`AudioAnalysis.vue`)

### 4.1 需求拆解

1.  **顶部导航栏**: 同上。
2.  **核心指标卡片**: 六个可点击的卡片，分别代表“普通话”、“语速”、“音量”、“关键词”、“口头禅”、“提问”。
3.  **图表分析区**: 
    -   默认或点击卡片后，显示对应的统计图表（折线图、气泡图等）。
    -   图表应与音频播放时间轴关联，支持交互。
4.  **详细内容列表**: 
    -   图表下方是与当前选中指标相关的详细内容列表。
    -   每一项包含关键信息标签、具体的语音转写文本以及一个“点击播放”按钮，点击后可播放对应的音频片段。
5.  **AI语音分析报告**: 综合性的文字报告。

### 4.2 UI 示意图 (文本描述)

```
+------------------------------------------------------------------------------------+
| [返回] [AI音频分析]                                           [导出报告] [分享]      |
+------------------------------------------------------------------------------------+
|                                                                                    |
|  +----------------+  +----------------+  +----------------+  (六个可点击卡片)      |
|  |  普通话: 良好   |  |  语速: 200字/分 |  |  音量: 68dB    |                      |
|  +----------------+  +----------------+  +----------------+                      |
|                                                                                    |
|  +----------------------------------------------------------------------------+  |
|  | [语速变化趋势] (ECharts 折线图)                                              |  |
|  |                                                                            |  |
|  |   ^                                                                        |  |
|  |   |----------------------------------------------------------------------> |  |
|  |  (时间轴)                                                                  |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
|  +----------------------------------------------------------------------------+  |
|  | [详细内容]                                                                   |  |
|  | +------------------------------------------------------------------------+ |  |
|  | | [标签: 语速过快] [时间: 02:30]                                       | |  |
|  | |  ...今天我们来学习...                                     [点击播放]   | |  |
|  | +------------------------------------------------------------------------+ |  |
|  | | ...                                                                    | |  |
|  | +------------------------------------------------------------------------+ |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
+------------------------------------------------------------------------------------+
```

### 4.3 技术实现

- **指标卡片**: 使用 `ElCard` 或自定义 `div`，并添加点击事件 `@click` 来切换图表和详细内容。
- **图表**: 使用 `ECharts`，根据选择的指标动态切换图表类型和数据。例如，语速和音量使用折线图 (`line`)，关键词使用气泡图 (`scatter`) 或词云 (`wordCloud`)。
- **音频播放**: 使用原生的 `<audio>` 标签或 `howler.js` 库来精确控制音频的播放、暂停和跳转。
- **数据联动**: ECharts图表可以通过 `dispatchAction` 和监听 `click` 事件与下方的详细列表及音频播放器进行联动。

### 4.4 交互效果

- **卡片点击**: 点击不同的指标卡片，下方图表和详细列表会以平滑的动画效果切换内容。
- **图表交互**: 点击图表上的数据点（如折线图的拐点），下方列表自动滚动到对应时间点的内容，并高亮显示。同时，音频播放器跳转到该时间点。
- **列表播放**: 点击详细列表中的“点击播放”按钮，音频从该条目对应的时间点开始播放，同时图表上对应时间点的数据可以高亮显示。

---

## 5. AI视频分析 (`VideoAnalysis.vue`)

### 5.1 需求拆解

1.  **顶部导航栏**: 同上。
2.  **主内容区 (左右布局)**:
    -   **左侧**: 视频播放器，包含标准播放控件和视频元信息。
    -   **右侧**: 标签页 (`Tabs`)，包含“教学姿态”、“面部表情”、“板书分析”、“课堂互动”等分析模块。
3.  **教学姿态分析**: 使用图表（如折线图）展示站姿、手势等随时间的变化，并给出评分。
4.  **面部表情分析**: 使用图表（如饼图或柱状图）展示各种表情（微笑、严肃等）的占比。
5.  **板书分析**: 
    -   以图片轮播 (`Carousel`) 的形式展示教学过程中的关键板书截图。
    -   下方展示对板书的评价指标（规范字、行间距、色彩数等）。
6.  **课堂互动分析**: 使用图表展示互动次数、类型等数据。
7.  **AI综合视频分析报告**: 页面底部或右侧标签页的最后一项，提供综合性文字报告。

### 5.2 UI 示意图 (文本描述)

```
+------------------------------------------------------------------------------------+
| [返回] [AI视频分析]                                           [导出报告] [分享]      |
+------------------------------------------------------------------------------------+
|                                                                                    |
|  +--------------------------------------+  +-----------------------------------+  |
|  | [视频播放器]                           |  | [教学姿态 | 面部表情 | 板书分析] (Tabs) |  |
|  |                                      |  +-----------------------------------+  |
|  | +----------------------------------+ |  | [板书分析]                          |  |
|  | |                                  | |  |                                    |  |
|  | |         (Video Player)           | |  |  +------------------------------+  |  |
|  | |                                  | |  |  |       (板书截图轮播)         |  |  |
|  | +----------------------------------+ |  |  +------------------------------+  |  |
|  | | [> | || | 进度条 | 音量 | 全屏]    | |  |  规范字: 95%  行间距: 合理      |  |  |
|  | +----------------------------------+ |  |  色彩数: 3    行水平: 良好       |  |  |
|  |                                      |  |                                    |  |
|  +--------------------------------------+  +-----------------------------------+  |
|                                                                                    |
|  +----------------------------------------------------------------------------+  |
|  | [AI综合视频分析报告]                                                         |  |
|  |  ...                                                                       |  |
|  +----------------------------------------------------------------------------+  |
|                                                                                    |
+------------------------------------------------------------------------------------+
```

### 5.3 技术实现

- **布局**: 采用左右分栏布局，左侧固定视频播放器，右侧为分析内容。
- **视频播放器**: 使用 `video.js` 或 `DPlayer` 等成熟的视频播放器库，以支持更丰富的自定义功能和跨浏览器兼容性。
- **标签页**: 使用 `ElTabs` 组件来组织右侧的多个分析模块。
- **图表**: 同样使用 `ECharts` 来实现姿态、表情、互动的可视化图表。
- **图片轮播**: 使用 `ElCarousel` 来展示板书截图。

### 5.4 交互效果

- **视频与图表联动**: 播放视频时，右侧图表的时间轴指示器会同步移动。点击图表上的某个时间点，视频会自动跳转到对应的时间进行播放。
- **板书查看**: 点击板书轮播图中的某一张图片，可以放大查看高清大图。
- **响应式设计**: 在较小的屏幕上，左右布局可以转变为上下布局，确保内容的可读性。